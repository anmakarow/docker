# скачиваем необходимый образ
FROM node:17-alpine3.12

# передаем переменную при сборке
ARG PORT_ARG

# задаем переменную окружения
ENV PORT=$PORT_ARG

# задаем рабочую директорию
WORKDIR /usr/app

# копируем код внутрь контейнера
COPY main.js .

# указывает какой порт будет открываться при запуске контейнера
EXPOSE 3000

# устанавливаем необходимые пакеты
RUN npm install express process fs mysql2

# задаем команду, которая будет выполняться при запуске контейнера
CMD ["node", "main.js"]
